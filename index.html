<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kai Qing & Me ‚Äî Relationship Wrapped</title>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

body {
  background: black;
  color: white;
  overflow: hidden;
}

.container {
  height: 100vh;
  overflow-y: scroll;
  scroll-snap-type: y mandatory;
}

.slide {
  height: 100vh;
  width: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 30px;
  text-align: center;
  scroll-snap-align: start;
}

.bg {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  filter: brightness(0.45);
  z-index: -1;
  transition: background-image 1s ease;
}

/* CARD */
.card {
  background: rgba(0,0,0,0.45);
  padding: 28px;
  border-radius: 20px;
  max-width: 520px;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.8s ease;
}

.slide.active .card {
  opacity: 1;
  transform: translateY(0);
}

h1 { font-size: 2.8rem; font-weight: 900; }
h2 { font-size: 2.1rem; margin-bottom: 10px; }
p { font-size: 1.15rem; line-height: 1.45; }

.stat {
  font-size: 3.6rem;
  font-weight: 900;
  margin: 12px 0;
}

.fire {
  font-size: 4rem;
  animation: pulse 1.2s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

video {
  width: 90%;
  max-width: 420px;
  border-radius: 18px;
  box-shadow: 0 0 40px rgba(255,120,200,0.45);
}

.small {
  font-size: 0.95rem;
  opacity: 0.8;
  margin-top: 10px;
}

/* NEXT BUTTON */
.next {
  position: absolute;
  bottom: 30px;
  font-size: 0.9rem;
  opacity: 0.7;
}

/* CONFETTI */
.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  top: -10px;
  animation: fall 3s linear forwards;
}

@keyframes fall {
  to {
    transform: translateY(110vh) rotate(720deg);
    opacity: 0;
  }
}

/* LAST SLIDE LAYOUT */
.last {
  display: flex;
  flex-direction: column;
}

.photo-side {
  margin-top: 20px;
}

.photo-side img {
  width: 220px;
  border-radius: 18px;
  box-shadow: 0 0 30px rgba(255,120,200,0.6);
}

/* REPLAY BUTTON */
.replay {
  margin-top: 18px;
  padding: 10px 20px;
  border-radius: 20px;
  background: white;
  color: black;
  font-weight: 700;
  border: none;
}
</style>
</head>

<body>

<div class="container" id="container">

<!-- 1 -->
<section class="slide"><div class="bg"></div>
  <div class="card">
    <h1>Your Relationship Wrapped üíñ</h1>
    <p>Starring Kai Qing.<br>Produced by love & FaceTime.</p>
  </div>
  <div class="next">Swipe ‚Üì</div>
</section>

<!-- 2 -->
<section class="slide"><div class="bg"></div>
  <div class="card">
    <div class="fire">üî•</div>
    <h2>FaceTime Streak</h2>
    <div class="stat">360 Days</div>
    <p>Longest streak without getting bored.</p>
  </div>
  <div class="next">Next ‚Üì</div>
</section>

<!-- 3 -->
<section class="slide"><div class="bg"></div>
  <div class="card">
    <h2>Your Top Memories üì∏</h2>
    <p>26 photos.</p>
    <p>0 bad ones.</p>
  </div>
  <div class="next">Next ‚Üì</div>
</section>

<!-- 4 -->
<section class="slide"><div class="bg"></div>
  <div class="card">
    <h2>Most Replayed Moment üèÜ</h2>
    <video src="video.mp4" autoplay muted loop playsinline></video>
  </div>
  <div class="next">Next ‚Üì</div>
</section>

<!-- 5 -->
<section class="slide"><div class="bg"></div>
  <div class="card">
    <h2>Fake But Accurate Stats</h2>
    <p>üí¨ Messages sent: 48,392</p>
    <p>üò¥ Fell asleep on call: 67√ó</p>
    <p>üíÄ Arguments won: You</p>
  </div>
  <div class="next">Next ‚Üì</div>
</section>

<!-- 6 -->
<section class="slide"><div class="bg"></div>
  <div class="card">
    <h2>Top Moments üéµ</h2>
    <p>Late-night calls</p>
    <p>Laughing at nothing</p>
    <p>Every normal day</p>
  </div>
  <div class="next">Next ‚Üì</div>
</section>

<!-- 7 -->
<section class="slide"><div class="bg"></div>
  <div class="card">
    <h2>Dear Kai Qing üíå</h2>
    <p>
      If this year was a playlist, you were every song.
      I‚Äôd choose you again. Always.
    </p>
  </div>
  <div class="next">Final ‚Üì</div>
</section>

<!-- 8 FINAL -->
<section class="slide last" id="finalSlide"><div class="bg"></div>
  <div class="card">
    <h2>Thanks for listening to ‚ÄúUs.‚Äù</h2>
    <p class="small">No skips. Ever.</p>
    <button class="replay" onclick="replay()">Replay Wrapped üîÅ</button>
    <div class="photo-side">
      <img src="img27.jpg" alt="Us ‚ù§Ô∏è">
    </div>
  </div>
</section>

</div>

<script>
/* SNAP ACTIVE */
const slides = document.querySelectorAll(".slide");
const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) entry.target.classList.add("active");
  });
}, { threshold: 0.6 });
slides.forEach(s => observer.observe(s));

/* BACKGROUND ROTATION */
const bgs = document.querySelectorAll(".bg");
let imgIndex = 1;
setInterval(() => {
  bgs.forEach(bg => bg.style.backgroundImage = `url(img${imgIndex}.jpg)`);
  imgIndex = imgIndex < 26 ? imgIndex + 1 : 1;
}, 2300);

/* CONFETTI */
let launched = false;
observer.observe(document.getElementById("finalSlide"));
function launchConfetti() {
  for (let i = 0; i < 120; i++) {
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random() * 100 + "vw";
    c.style.background = `hsl(${Math.random()*360},100%,70%)`;
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 4000);
  }
}
const finalObserver = new IntersectionObserver(e=>{
  if(e[0].isIntersecting && !launched){launched=true;launchConfetti();}
},{threshold:0.6});
finalObserver.observe(document.getElementById("finalSlide"));

/* REPLAY */
function replay() {
  document.getElementById("container").scrollTo({ top: 0, behavior: "smooth" });
}
</script>

</body>
</html>
